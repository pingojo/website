{% extends "base.html" %}
{% load humanize %}
{% block content %}
<div class="content-with-sidebar">
    {% include 'sidebar.html' %}

    <div class="main-content">
        <!-- Include Font Awesome CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

        <style>
            .source-list {
                display: flex;
                flex-wrap: wrap;
                padding: 20px;
                gap: 15px; /* Added space between items */
            }
            .source-item {
                display: flex;
                align-items: center;
                background-color: #f9f9f9;
                padding: 5px 10px;
                border-radius: 5px;
                border: 1px solid #ddd;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .source-item img {
                vertical-align: middle;
                background-color: white;
                border-radius: 5px;
                margin-right: 8px;
                width: 20px;
                height: 20px;
            }
            .source-item a {
                text-decoration: none;
                color: #333;
                font-weight: bold;
                position: relative; /* Enable tooltip positioning */
                white-space: nowrap; /* Prevent line breaks */
            }
            .source-item a[data-tooltip]:hover::after {
                content: attr(data-tooltip);
                position: absolute;
                background-color: #333;
                color: #fff;
                padding: 5px;
                border-radius: 5px;
                top: -30px;
                left: 0;
                transform: translateX(0);
                white-space: nowrap;
                font-size: 12px;
                z-index: 1000; /* Ensure tooltip appears on top */
            }
            h1 {
                text-align: center;
            }
        </style>

        <div class="source-list">
            {% for source in sources %}
            <div class="source-item">
                <img src="https://www.google.com/s2/favicons?domain={{ source.website }}" alt="favicon">
                <a href="{{ source.website }}" target="_blank" data-tooltip="{{ source.focus }} | Google Results: {{ source.google_result_count }}">
                    {{ source.name }} ({{ source.job_count }})
                </a>
            </div>
            {% empty %}
            <div>No sources available.</div>
            {% endfor %}
        </div>
    </div>
</div>

<style>
    .content-with-sidebar {
        display: flex;
    }
    .main-content {
        margin-left: 180px; /* Make room for the sidebar */
        padding: 20px;
    }
</style>
{% block footer %}{% endblock footer %}
{% endblock %}
